{"ast":null,"code":"import _slicedToArray from \"/Users/ronaldgustilo/Sites/resume-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ronaldgustilo/Sites/resume-website/src/pages/Portfolios.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Sectiontitle from \"../components/Sectiontitle\";\nimport Layout from \"../components/Layout\";\nimport Pagination from \"../components/Pagination\";\nimport PortfoliosView from \"../components/PortfoliosView\";\n\nfunction Portfolios() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        portfolios = _useState2[0],\n        setPortfoios = _useState2[1];\n\n  const _useState3 = useState(1),\n        _useState4 = _slicedToArray(_useState3, 2),\n        currentPage = _useState4[0],\n        setCurrentPage = _useState4[1];\n\n  const _useState5 = useState(9),\n        _useState6 = _slicedToArray(_useState5, 1),\n        portfoliosPerPage = _useState6[0];\n\n  useEffect(() => {\n    let mounted = true;\n    axios.get(\"/api/portfolios\").then(response => {\n      if (mounted) {\n        setPortfoios(response.data);\n      }\n    });\n    return () => mounted = false;\n  }, [portfolios]);\n  const indexOfLastPortfolios = currentPage * portfoliosPerPage;\n  const indexOfFirstPortfolios = indexOfLastPortfolios - portfoliosPerPage;\n  const currentPortfolios = portfolios.slice(indexOfFirstPortfolios, indexOfLastPortfolios);\n\n  const paginate = (e, pageNumber) => {\n    e.preventDefault();\n    setCurrentPage(pageNumber);\n  };\n\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mi-about mi-section mi-padding-top mi-padding-bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Sectiontitle, {\n    title: \"Portfolios\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(PortfoliosView, {\n    portfolios: currentPortfolios,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), !(portfolios.length > portfoliosPerPage) ? null : React.createElement(Pagination, {\n    className: \"mt-50\",\n    itemsPerPage: portfoliosPerPage,\n    totalItems: portfolios.length,\n    paginate: paginate,\n    currentPage: currentPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }))));\n}\n\nexport default Portfolios;","map":{"version":3,"sources":["/Users/ronaldgustilo/Sites/resume-website/src/pages/Portfolios.js"],"names":["React","useState","useEffect","axios","Sectiontitle","Layout","Pagination","PortfoliosView","Portfolios","portfolios","setPortfoios","currentPage","setCurrentPage","portfoliosPerPage","mounted","get","then","response","data","indexOfLastPortfolios","indexOfFirstPortfolios","currentPortfolios","slice","paginate","e","pageNumber","preventDefault","length"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;;AAEA,SAASC,UAAT,GAAsB;AAAA,oBACeP,QAAQ,CAAC,EAAD,CADvB;AAAA;AAAA,QACbQ,UADa;AAAA,QACDC,YADC;;AAAA,qBAEkBT,QAAQ,CAAC,CAAD,CAF1B;AAAA;AAAA,QAEbU,WAFa;AAAA,QAEAC,cAFA;;AAAA,qBAGQX,QAAQ,CAAC,CAAD,CAHhB;AAAA;AAAA,QAGbY,iBAHa;;AAKpBX,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIY,OAAO,GAAG,IAAd;AACAX,IAAAA,KAAK,CAACY,GAAN,CAAU,iBAAV,EAA6BC,IAA7B,CAAmCC,QAAD,IAAc;AAC9C,UAAGH,OAAH,EAAW;AACTJ,QAAAA,YAAY,CAACO,QAAQ,CAACC,IAAV,CAAZ;AACD;AACF,KAJD;AAKA,WAAO,MAAMJ,OAAO,GAAG,KAAvB;AACD,GARQ,EAQN,CAACL,UAAD,CARM,CAAT;AAUA,QAAMU,qBAAqB,GAAGR,WAAW,GAAGE,iBAA5C;AACA,QAAMO,sBAAsB,GAAGD,qBAAqB,GAAGN,iBAAvD;AACA,QAAMQ,iBAAiB,GAAGZ,UAAU,CAACa,KAAX,CACxBF,sBADwB,EAExBD,qBAFwB,CAA1B;;AAKA,QAAMI,QAAQ,GAAG,CAACC,CAAD,EAAIC,UAAJ,KAAmB;AAClCD,IAAAA,CAAC,CAACE,cAAF;AACAd,IAAAA,cAAc,CAACa,UAAD,CAAd;AACD,GAHD;;AAKA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEG,oBAAC,cAAD;AAAgB,IAAA,UAAU,EAAEJ,iBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFH,EAGG,EAAEZ,UAAU,CAACkB,MAAX,GAAoBd,iBAAtB,IAA2C,IAA3C,GACC,oBAAC,UAAD;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,YAAY,EAAEA,iBAFhB;AAGE,IAAA,UAAU,EAAEJ,UAAU,CAACkB,MAHzB;AAIE,IAAA,QAAQ,EAAEJ,QAJZ;AAKE,IAAA,WAAW,EAAEZ,WALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADF,CADF,CADF;AAmBD;;AAED,eAAeH,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Sectiontitle from \"../components/Sectiontitle\";\r\nimport Layout from \"../components/Layout\";\r\nimport Pagination from \"../components/Pagination\";\r\nimport PortfoliosView from \"../components/PortfoliosView\";\r\n\r\nfunction Portfolios() {\r\n  const [portfolios, setPortfoios] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [portfoliosPerPage] = useState(9);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    axios.get(\"/api/portfolios\").then((response) => {\r\n      if(mounted){\r\n        setPortfoios(response.data);\r\n      }\r\n    });\r\n    return () => mounted = false;\r\n  }, [portfolios]);\r\n\r\n  const indexOfLastPortfolios = currentPage * portfoliosPerPage;\r\n  const indexOfFirstPortfolios = indexOfLastPortfolios - portfoliosPerPage;\r\n  const currentPortfolios = portfolios.slice(\r\n    indexOfFirstPortfolios,\r\n    indexOfLastPortfolios\r\n  );\r\n\r\n  const paginate = (e, pageNumber) => {\r\n    e.preventDefault();\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"mi-about mi-section mi-padding-top mi-padding-bottom\">\r\n        <div className=\"container\">\r\n          <Sectiontitle title=\"Portfolios\" />\r\n          {<PortfoliosView portfolios={currentPortfolios} />}\r\n          {!(portfolios.length > portfoliosPerPage) ? null : (\r\n            <Pagination\r\n              className=\"mt-50\"\r\n              itemsPerPage={portfoliosPerPage}\r\n              totalItems={portfolios.length}\r\n              paginate={paginate}\r\n              currentPage={currentPage}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Portfolios;\r\n"]},"metadata":{},"sourceType":"module"}