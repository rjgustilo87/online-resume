{"ast":null,"code":"import _slicedToArray from \"/Users/ronaldgustilo/Sites/resume-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ronaldgustilo/Sites/resume-website/src/pages/Blogs.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Sectiontitle from \"../components/Sectiontitle\";\nimport Layout from \"../components/Layout\";\nimport BlogsView from \"../components/BlogsView\";\nimport Pagination from \"../components/Pagination\";\n\nfunction Blogs() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        posts = _useState2[0],\n        setPosts = _useState2[1];\n\n  const _useState3 = useState(1),\n        _useState4 = _slicedToArray(_useState3, 2),\n        currentPage = _useState4[0],\n        setCurrentPage = _useState4[1];\n\n  const _useState5 = useState(6),\n        _useState6 = _slicedToArray(_useState5, 1),\n        postsPerPage = _useState6[0];\n\n  useEffect(() => {\n    let mounted = true;\n    axios.get(\"/api/blog\").then(response => {\n      if (mounted) {\n        setPosts(response.data);\n      }\n    });\n    return () => mounted = false;\n  }, [posts]);\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);\n\n  const paginate = (e, pageNumber) => {\n    e.preventDefault();\n    setCurrentPage(pageNumber);\n  };\n\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mi-about mi-section mi-padding-top mi-padding-bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Sectiontitle, {\n    title: \"Recent Blogs\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(BlogsView, {\n    blogs: currentPosts,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), !(posts.length > postsPerPage) ? null : React.createElement(Pagination, {\n    className: \"mt-50\",\n    itemsPerPage: postsPerPage,\n    totalItems: posts.length,\n    paginate: paginate,\n    currentPage: currentPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }))));\n}\n\nexport default Blogs;","map":{"version":3,"sources":["/Users/ronaldgustilo/Sites/resume-website/src/pages/Blogs.js"],"names":["React","useState","useEffect","axios","Sectiontitle","Layout","BlogsView","Pagination","Blogs","posts","setPosts","currentPage","setCurrentPage","postsPerPage","mounted","get","then","response","data","indexOfLastPost","indexOfFirstPost","currentPosts","slice","paginate","e","pageNumber","preventDefault","length"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAEA,SAASC,KAAT,GAAiB;AAAA,oBACWP,QAAQ,CAAC,EAAD,CADnB;AAAA;AAAA,QACRQ,KADQ;AAAA,QACDC,QADC;;AAAA,qBAEuBT,QAAQ,CAAC,CAAD,CAF/B;AAAA;AAAA,QAERU,WAFQ;AAAA,QAEKC,cAFL;;AAAA,qBAGQX,QAAQ,CAAC,CAAD,CAHhB;AAAA;AAAA,QAGRY,YAHQ;;AAKfX,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIY,OAAO,GAAG,IAAd;AACAX,IAAAA,KAAK,CAACY,GAAN,CAAU,WAAV,EAAuBC,IAAvB,CAA4BC,QAAQ,IAAI;AACtC,UAAGH,OAAH,EAAW;AACTJ,QAAAA,QAAQ,CAACO,QAAQ,CAACC,IAAV,CAAR;AACD;AACF,KAJD;AAKA,WAAO,MAAMJ,OAAO,GAAG,KAAvB;AACD,GARQ,EAQN,CAACL,KAAD,CARM,CAAT;AAUA,QAAMU,eAAe,GAAGR,WAAW,GAAGE,YAAtC;AACA,QAAMO,gBAAgB,GAAGD,eAAe,GAAGN,YAA3C;AACA,QAAMQ,YAAY,GAAGZ,KAAK,CAACa,KAAN,CAAYF,gBAAZ,EAA8BD,eAA9B,CAArB;;AAEA,QAAMI,QAAQ,GAAG,CAACC,CAAD,EAAIC,UAAJ,KAAmB;AAClCD,IAAAA,CAAC,CAACE,cAAF;AACAd,IAAAA,cAAc,CAACa,UAAD,CAAd;AACD,GAHD;;AAKA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEJ,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGG,EAAEZ,KAAK,CAACkB,MAAN,GAAed,YAAjB,IAAiC,IAAjC,GACC,oBAAC,UAAD;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,YAAY,EAAEA,YAFhB;AAGE,IAAA,UAAU,EAAEJ,KAAK,CAACkB,MAHpB;AAIE,IAAA,QAAQ,EAAEJ,QAJZ;AAKE,IAAA,WAAW,EAAEZ,WALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADF,CADF,CADF;AAmBD;;AAED,eAAeH,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Sectiontitle from \"../components/Sectiontitle\";\r\nimport Layout from \"../components/Layout\";\r\nimport BlogsView from \"../components/BlogsView\";\r\nimport Pagination from \"../components/Pagination\";\r\n\r\nfunction Blogs() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage] = useState(6);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    axios.get(\"/api/blog\").then(response => {\r\n      if(mounted){\r\n        setPosts(response.data);\r\n      }\r\n    });\r\n    return () => mounted = false;\r\n  }, [posts]);\r\n\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  const paginate = (e, pageNumber) => {\r\n    e.preventDefault();\r\n    setCurrentPage(pageNumber);\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"mi-about mi-section mi-padding-top mi-padding-bottom\">\r\n        <div className=\"container\">\r\n          <Sectiontitle title=\"Recent Blogs\" />\r\n          <BlogsView blogs={currentPosts} />\r\n          {!(posts.length > postsPerPage) ? null : (\r\n            <Pagination\r\n              className=\"mt-50\"\r\n              itemsPerPage={postsPerPage}\r\n              totalItems={posts.length}\r\n              paginate={paginate}\r\n              currentPage={currentPage}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Blogs;\r\n"]},"metadata":{},"sourceType":"module"}